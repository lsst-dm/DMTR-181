% generated from JIRA project LVV
% using template at /usr/local/lib/python3.7/site-packages/docsteady/templates/dm-tpr.latex.jinja2.
% using docsteady version 1.2rc23
% Please do not edit -- update information in Jira instead

\documentclass[DM,lsstdraft,STR,toc]{lsstdoc}
\usepackage{geometry}
\usepackage{longtable,booktabs}
\usepackage{enumitem}
\usepackage{arydshln}
\usepackage{attachfile}
\usepackage{array}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

\input meta.tex

\newcommand{\attachmentsUrl}{https://github.com/\gitorg/\lsstDocType-\lsstDocNum/blob/\gitref/attachments}
\providecommand{\tightlist}{
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\setcounter{tocdepth}{4}

\begin{document}

\def\milestoneName{DAQ Validation}
\def\milestoneId{LDM-503-10}
\def\product{Data Management}

\setDocCompact{true}

\title{LDM-503-10: DAQ Validation Test Plan and Report}
\setDocRef{\lsstDocType-\lsstDocNum}
\date{\vcsdate}
\author{ Michelle Butler }

\input{history_and_info.tex}


\setDocAbstract{
This is the test plan and report for LDM-503-10 (DAQ Validation),
an LSST milestone pertaining to the Data Management Subsystem.
}


\maketitle

\section{Introduction}
\label{sect:intro}


\subsection{Objectives}
\label{sect:objectives}

 This milestone verifies the DAQ network from the summit to the base
ensuring that systems at the base can receive communications from the
DAQ. ~



\subsection{System Overview}
\label{sect:systemoverview}

 This milestone verifies simulated data from the DAQ at the Summit and
use the DWDM network environment to place data on DM machines at Base
Data Center (BDC), essentially extending the DAQ extended network to the
BDC. The test machines at the BDC will be a L1 handoff environment and a
single forwarder\\[2\baselineskip]

\subsection{Applicable Documents}\label{applicable-documents}

\citeds{LDM-294} Data Management Organization and Management\\
\citeds{LDM-503} DM Test Plan\\
\citeds{LDM-148} Data Management System Design\\
\citeds{LDM-639} Data Management Acceptance Test Specification


\subsection{Document Overview}
\label{sect:docoverview}

This document was generated from Jira, obtaining the relevant information from the
\href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P54}{LVV-P54}
~Jira Test Plan and related Test Cycles (
\href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C107}{LVV-C107}
).

Section \ref{sect:intro} provides an overview of the test campaign, the system under test (\product{}),
the applicable documentation, and explains how this document is organized.
Section \ref{sect:testplan} provides additional information about the test plan, like for example the configuration
used for this test or related documentation.
Section \ref{sect:personnel} describes the necessary roles and lists the individuals assigned to them.

Section \ref{sect:overview} provides a summary of the test results, including an overview in Table \ref{table:summary},
an overall assessment statement and suggestions for possible improvements.
Section \ref{sect:detailedtestresults} provides detailed results for each step in each test case.

The current status of test plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P54}{LVV-P54} in Jira is \textbf{ Approved }.

\subsection{References}
\label{sect:references}
\renewcommand{\refname}{}
\bibliography{lsst,refs,books,refs_ads,local}


\newpage
\section{Test Plan Details}
\label{sect:testplan}


\subsection{Data Collection}

  Observing is not required for this test campaign.

\subsection{Verification Environment}
\label{sect:hwconf}
  DAQ machines at the summit and forwarder machine at the base data center
(BDC) on networks extending the DAQ network from the summit to the base
and BDC 10GigE networks. ~

  \subsection{Entry Criteria}
  DAQ at the summit and test machines at BDC all have been installed and
are in working order with all networks configured.~~

  \subsection{Exit Criteria}
  Files and other communications can take place from the summit machines
and the BDC systems for the DAQ network.~~


\subsection{Related Documentation}

The documentation related to this test campaign should be provided in the following DocuShare Collection
(as per Verification Artifacts in Jira test plan LVV-P54).

\begin{itemize}
\item DocuShare Collection Not Specified
\end{itemize}



\subsection{PMCS Activity}

Primavera milestones related to the test campaign.

\begin{itemize}
\item None
\end{itemize}


\newpage
\section{Personnel}
\label{sect:personnel}

The personnel involved in the test campaign is shown in the following table.

{\small
\begin{longtable}{p{3cm}p{3cm}p{3cm}p{6cm}}
\hline
\multicolumn{2}{r}{T. Plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P54}{LVV-P54} owner:} &
\multicolumn{2}{l}{\textbf{ Michelle Butler } }\\\hline
\multicolumn{2}{r}{T. Cycle \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C107}{LVV-C107} owner:} &
\multicolumn{2}{l}{\textbf{
Michelle Butler }
} \\\hline
\textbf{Test Cases} & \textbf{Assigned to} & \textbf{Executed by} & \textbf{Additional Test Personnel} \\ \hline
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T1550}{LVV-T1550}
& {\small Michelle Butler } & {\small  } &
\begin{minipage}[]{6cm}
\smallskip
{\small  }
\medskip
\end{minipage}
\\ \hline
\end{longtable}
}

\newpage

\section{Test Campaign Overview}
\label{sect:overview}

\subsection{Summary}
\label{sect:summarytable}

{\small
\begin{longtable}{p{2cm}cp{2.3cm}p{8.6cm}p{2.3cm}}
\toprule
\multicolumn{2}{r}{ T. Plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P54}{LVV-P54}:} &
\multicolumn{2}{p{10.9cm}}{\textbf{ LDM-503-10: DAQ Validation }} & Approved \\\hline
\multicolumn{2}{r}{ T. Cycle \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C107}{LVV-C107}:} &
\multicolumn{2}{p{10.9cm}}{\textbf{ LDM-503-10 DAQ verification }} & Not Executed \\\hline
\textbf{Test Cases} &  \textbf{Ver.} & \textbf{Status} & \textbf{Comment} & \textbf{Issues} \\\toprule
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T1550}{LVV-T1550}
&  1
& Not Executed &
\begin{minipage}[]{9cm}
\smallskip

\medskip
\end{minipage}
&   \\\hline
\caption{Test Campaign Summary}
\label{table:summary}
\end{longtable}
}

\subsection{Overall Assessment}
\label{sect:overallassessment}

The milestone passed well, but the DWDM network will no longer be used
for ComCam or Main Telescope Camera (MTCam)~ ~There is no need to
separate the forwarders and archiver systems from the DAQ at a long
distance. ~~

\subsection{Recommended Improvements}
\label{sect:recommendations}

No improvements other than the Main Telescope Camera will not use the
archiver system, and the image will be taken directly from the DAQ. ~ In
the future the DAQ needs to now build fits files, so there is no reason
to have the archiver fits files AND DAQ fits files. ~ We will in the
future cut out the archiver function's of build of the fits files. ~\\
\hspace*{0.333em}

\newpage
\section{Detailed Test Results}
\label{sect:detailedtestresults}

\subsection{Test Cycle LVV-C107 }

Open test cycle {\it \href{https://jira.lsstcorp.org/secure/Tests.jspa#/testrun/LVV-C107}{LDM-503-10 DAQ verification}} in Jira.

Test Cycle name: LDM-503-10 DAQ verification\\
Status: Not Executed

Verify that the BDC systems on the~ DAQ DWDM network can communicate
with the Summit DAQ system. ~\\[2\baselineskip]

\subsubsection{Software Version/Baseline}
Not provided.

\subsubsection{Configuration}
Not provided.

\subsubsection{Test Cases in LVV-C107 Test Cycle}

\paragraph{ LVV-T1550 - LDM-503-10 DAQ Validation }\mbox{}\\

Version \textbf{1}.
Open  \href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T1550}{\textit{ LVV-T1550 } }
test case in Jira.

Verify that the DAQ can talk to test machines at the BDC through the
DWDM network.~

\textbf{ Preconditions}:\\
DAQ at the Summit and machines on networks at the base.~~

Execution status: {\bf Not Executed }

Final comment:\\


Detailed steps results:

\begin{longtable}{p{1cm}p{15cm}}
\hline
{Step} & Step Details\\ \hline
1 & Description \\
 & \begin{minipage}[t]{15cm}
{\footnotesize
have DAQ produce image at the summit~

\medskip }
\end{minipage}
\\ \cdashline{2-2}


 & Expected Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize
Image on At-archiver~

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Actual Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Status: \textbf{ Not Executed } \\ \hline

2 & Description \\
 & \begin{minipage}[t]{15cm}
{\footnotesize
The forwarder at the BDC should be able to have communication with the
DAQ that the image was taken, and be able to see the file.
~\\[2\baselineskip]

\medskip }
\end{minipage}
\\ \cdashline{2-2}


 & Expected Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize
Image available for the forwarder at the base.~~

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Actual Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Status: \textbf{ Not Executed } \\ \hline

3 & Description \\
 & \begin{minipage}[t]{15cm}
{\footnotesize
Communication between the forwarder and the DAQ are in place with
messages being exchanged.~ ~

\medskip }
\end{minipage}
\\ \cdashline{2-2}


 & Expected Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize
if messages can be exchanged, the communication has been established.
~\\[3\baselineskip]

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Actual Result \\
 & \begin{minipage}[t]{15cm}{\footnotesize

\medskip }
\end{minipage} \\ \cdashline{2-2}

 & Status: \textbf{ Not Executed } \\ \hline

\end{longtable}


\input{appendix.tex}
\end{document}
